<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>918 Technologies BlockChain BailBonds - Verification</title>
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 20px;
      line-height: 1.6;
    }
    h1 {
      color: #1e40af;
    }
    .success {
      color: #16a34a;
    }
    .error {
      color: #dc2626;
    }
    .resource-list {
      background-color: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 5px;
      padding: 15px;
      margin: 20px 0;
    }
    .resource-item {
      display: flex;
      margin-bottom: 10px;
    }
    .status {
      margin-left: 10px;
      font-weight: bold;
    }
  </style>
</head>
<body>
  <h1>918 Technologies BlockChain BailBonds - Verification</h1>
  <p>This page verifies that all resources are loading correctly using relative paths.</p>

  <div class="resource-list">
    <h2>Core Files</h2>
    <div id="core-files"></div>
  </div>

  <div class="resource-list">
    <h2>JavaScript Files</h2>
    <div id="js-files"></div>
  </div>

  <div class="resource-list">
    <h2>Icons & Assets</h2>
    <div id="asset-files"></div>
  </div>

  <script>
    const coreFiles = [
      './index.html',
      './bondsman-portal.html',
      './bail-contract-generator.html',
      './domain-structure.html',
      './domain-wizard.html',
      './offline.html',
      './style.css',
      './manifest.json'
    ];

    const jsFiles = [
      './script.js',
      './bondsman-actions.js',
      './contract-generator.js',
      './domain-connector.js',
      './ipfs-storage.js',
      './translations.js',
      './oklahoma-data.js',
      './service-worker.js'
    ];

    const assetFiles = [
      './icons/icon-192x192.svg',
      './icons/icon-512x512.svg'
    ];

    async function checkResource(url) {
      try {
        const response = await fetch(url, { method: 'HEAD' });
        return response.ok;
      } catch (error) {
        console.error(`Error checking ${url}:`, error);
        return false;
      }
    }

    async function verifyResources() {
      await verifyResourceList('core-files', coreFiles);
      await verifyResourceList('js-files', jsFiles);
      await verifyResourceList('asset-files', assetFiles);
    }

    async function verifyResourceList(elementId, resources) {
      const container = document.getElementById(elementId);
      
      for (const resource of resources) {
        const isAvailable = await checkResource(resource);
        
        const item = document.createElement('div');
        item.className = 'resource-item';
        
        const resourceName = document.createElement('div');
        resourceName.textContent = resource;
        
        const status = document.createElement('div');
        status.className = 'status';
        
        if (isAvailable) {
          status.textContent = '✓';
          status.classList.add('success');
        } else {
          status.textContent = '✗';
          status.classList.add('error');
        }
        
        item.appendChild(resourceName);
        item.appendChild(status);
        container.appendChild(item);
      }
    }

    // Start verification
    document.addEventListener('DOMContentLoaded', verifyResources);
  </script>
</body>
</html>
